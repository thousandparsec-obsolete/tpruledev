<blocks>
	<category name="Built-In">
		<category
			name="Variable References"
			description="References to all variables in the current environment."/>
		
		<category
			name="Literal Expression"
			description="Values that are interpreted literally such as strings, numbers, boolean values and quote escaped expressions.">
			<expression
				name="String Literal"
				description="A string with some definite value."
				display="String">
				<template>
					<elem type="text" val=""/>
				</template>
				<oninsert>
def OnInsert(expression):
	dialog = wx.TextEntryDialog(None, "Text:", "String Literal", style = wx.OK | wx.CANCEL)
	if dialog.ShowModal() == wx.OK:
		text = dialog.GetValue()
		expression.SetElementData(0, '"%s"' % text)
		return True
	else:
		return False</oninsert>
			</expression>
			
			<expression
				name="Numerical Literal"
				description="A number."
				display="#">
				<template>
					<elem type="text" val=""/>
				</template>
				<oninsert>
def OnInsert(expression):
	dialog = wx.TextEntryDialog(None, "Number:", "Numerical Value", style = wx.OK | wx.CANCEL)
	if dialog.ShowModal() == wx.OK:
		num = dialog.GetValue()
		expression.SetElementData(0, '%s' % num)
		return True
	else:
		return False</oninsert>
			</expression>
			
			<expression
				name="Boolean"
				description="True or false."
				display="#f/#t">
				<template>
					<elem type="text" val=""/>
				</template>
				<oninsert>
def OnInsert(expression):
	choice = wx.GetSingleChoiceIndex("Boolean Value:", "Boolean Value", ["False", "True"])
	if choice == 1:
		expression.SetElementData(0, "#t")
	elif choice == 0:
		expression.SetElementData(0, "#f")
	else:
		return False
	return True</oninsert>
			</expression>
			
			<expression
				name="Quote Escaped Expression"
				description="A quote escaped TPCL Expression. For advanced coders only."
				display="'*TEXT*">
				<template>
					<elem type="text" val=""/>
				</template>
				<oninsert>
def OnInsert(expression):
	dialog = wx.TextEntryDialog(None, "Escaped Value:", "Quote Escaped Expression", style = wx.OK | wx.CANCEL)
	if dialog.ShowModal() == wx.OK:
		text = dialog.GetValue()
		expression.SetElementData(0, "'%s" % text)
		return True
	else:
		return False</oninsert>
			</expression>
		</category>
		
		<category name="Procedure Calls">
			<category name="String Functions"/>
			<category name="Numerical Functions">
				<expression
					name="+"
					description="Adder."
					display="(+ *EXPR* *EXPR*)">
					<template>
						<elem type="text" val="(+ " />
						<elem type="block" val="EXPR" />
						<elem type="text" val=" " />
						<elem type="block" val="EXPR" />
						<elem type="text" val=")" />
					</template>
				</expression>
				
				<expression
					name="-"
					description="Subtractor."
					display="(- *EXPR* *EXPR*)">
					<template>
						<elem type="text" val="(- " />
						<elem type="block" val="EXPR" />
						<elem type="text" val=" " />
						<elem type="block" val="EXPR" />
						<elem type="text" val=")" />
					</template>
				</expression>
			</category>
			
			<category name="List Operators">
				<expression
					name="cons"
					description="Cons operation"
					display="(cons *EXPR* *EXPR*)">
					<template>
						<elem type="text" val="(cons " />
						<elem type="block" val="FIRST" />
						<elem type="text" val=" " />
						<elem type="block" val="SECOND" />
						<elem type="text" val=")" />
					</template>
				</expression>
				
				<expression
					name="car"
					description="Car operation"
					display="(car *EXPR*)">
					<template>
						<elem type="text" val="(car " />
						<elem type="block" val="EXPR" />
						<elem type="text" val=")" />
					</template>
				</expression>
				
				<expression
					name="cdr"
					description="Cdr operation"
					display="(cdr *EXPR*)">
					<template>
						<elem type="text" val="(cdr " />
						<elem type="block" val="EXPR" />
						<elem type="text" val=")" />
					</template>
				</expression>
			</category>
			
			<category name="Comparison Operators">
				<expression
					name="&lt;"
					description="The less-than comparison."
					display="(&lt; *EXPR* *EXPR*)">
					<template>
						<elem type="text" val="(&lt; " />
						<elem type="block" val="EXPR" />
						<elem type="text" val=" " />
						<elem type="block" val="EXPR" />
						<elem type="text" val=")" />
					</template>
				</expression>
				
				<expression
					name=">"
					description="The greater-than comparison."
					display="(> *EXPR* *EXPR*)">
					<template>
						<elem type="text" val="(> " />
						<elem type="block" val="EXPR" />
						<elem type="text" val=" " />
						<elem type="block" val="EXPR" />
						<elem type="text" val=")" />
					</template>
				</expression>
				
				<expression
					name="="
					description="The equal-to comparison."
					display="(= *EXPR* *EXPR*)">
					<template>
						<elem type="text" val="(= " />
						<elem type="block" val="EXPR" />
						<elem type="text" val=" " />
						<elem type="block" val="EXPR" />
						<elem type="text" val=")" />
					</template>
				</expression>
			</category>
			
			<category name="Flow Control">
				<expression
					name="if"
					description="The if flow-control structure"
					display="(if *TEST*\n\t*WHEN-TRUE*\n\t*WHEN-FALSE*)" >
					<template>
						<elem type="text" val="(if " />
						<elem type="block" val="TEST" />
						<elem type="eol" />
						<elem type="indent" />
						<elem type="block" val="WHEN-TRUE" />
						<elem type="eol" />
						<elem type="indent" />
						<elem type="block" val="WHEN-FALSE" />
						<elem type="text" val=")" />
					</template>
				</expression>
			</category>
			
			<category name="Miscelaneous Operators">
				<expression
					name="let"
					description="The let block - allows creating temporary variables."
					display="(let ((*SYMBOL* *VAL*))\n\t*EXPR*)">
					<template>
						<elem type="text" val="(let ((" />
						<elem type="block" val="SYMBOL" />
						<elem type="text" val=" " />
						<elem type="block" val="EXPR" />
						<elem type="text" val="))" />
						<elem type="eol" />
						<elem type="indent" />
						<elem type="block" val="EXPR" />
						<elem type="text" val=")" />
					</template>
				</expression>
			</category>
		</category>
		
		<category name="Procedure Definitions">
			<expression2 name="TPCL Requirements Function"/>
			<expression 
				name="TPCL Requires Function"
				description="A lambda function taking a design as its only argument."
				display="(lambda (design)\n\t*EXPR*)">
				<template>
					<elem type="text" val="(lambda (design) " />
					<elem type="eol" />
					<elem type="indent" />
					<elem type="block" val="EXPR" />
					<elem type="text" val=")" />
				</template>
			</expression>
			<expression2 name="TPCL Display Function"/>
			<expression2 name="TPCL Cost Function"/>
		</category>
	</category>
	
	<category name="User Defined">
	</category>		
</blocks>